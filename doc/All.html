<!DOCTYPE html>
<html data-theme="light" lang="zh-Hant"><head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><title>10 大實用前端範例（亮色系 + 主題切換）</title>
<style>
/* ===== 主題變數 ===== */
:root{--bg:#fafafa;--card:#fff;--fg:#1f2937;--muted:#6b7280;--line:#e5e7eb;--accent:#2563eb;--accent2:#10b981;--warn:#f59e0b;--r:14px;--sh:0 8px 24px rgba(0,0,0,.08)}
html[data-theme="dark"]{--bg:#0f172a;--card:#0b1220;--fg:#e5e7eb;--muted:#9ca3af;--line:#1f2937;--accent:#22d3ee;--accent2:#34d399;--warn:#f59e0b;--sh:0 10px 30px rgba(0,0,0,.5)}
html[data-theme="cute"]{--bg:#fff7fb;--card:#fff;--fg:#5b21b6;--muted:#a78bfa;--line:#f3e8ff;--accent:#ec4899;--accent2:#f59e0b;--warn:#f472b6}
html[data-theme="western"]{--bg:#faf3e0;--card:#fffaf0;--fg:#3f2d20;--muted:#8b7355;--line:#ead7b7;--accent:#b45309;--accent2:#16a34a;--warn:#d97706}
html[data-theme="horror"]{--bg:#0b0b0b;--card:#121212;--fg:#e5e7eb;--muted:#9ca3af;--line:#27272a;--accent:#ef4444;--accent2:#22c55e;--warn:#f59e0b;--sh:0 16px 40px rgba(0,0,0,.6)}
/* ===== 共用 ===== */
*{box-sizing:border-box}html,body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC",sans-serif;line-height:1.6}
a{color:var(--accent);text-decoration:none}a:hover{text-decoration:underline}
header{position:sticky;top:0;z-index:30;background:rgba(255,255,255,.72);backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--line)}
html[data-theme="dark"] header,html[data-theme="horror"] header{background:rgba(18,18,18,.7)}
.container{max-width:1200px;margin:auto;padding:12px 16px}
h1{margin:0;font-size:clamp(18px,3vw,28px)}
select,button,input,textarea{font:inherit;border:1px solid var(--line);border-radius:10px;padding:8px 10px;background:var(--card);color:var(--fg)}
button.accent{background:var(--accent);color:#fff;border-color:transparent;cursor:pointer}button.accent:active{transform:scale(.98)}
main{padding:14px 0}.grid{display:grid;grid-template-columns:260px 1fr;gap:14px}@media(max-width:960px){.grid{grid-template-columns:1fr}}
.nav{position:sticky;top:70px;background:var(--card);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--sh);padding:10px}
.nav h3{margin:6px 10px 8px;font-size:13px;color:var(--muted)}
.nav button{width:100%;text-align:left;border:0;background:transparent;padding:8px 10px;border-radius:10px;cursor:pointer}
.nav button.active{background:color-mix(in oklab,var(--accent) 12%,transparent);color:var(--fg);font-weight:700}
.view{min-height:60vh;background:var(--card);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--sh);padding:12px}
.section{display:none}.section.active{display:block}.section h2{margin:.2em 0 .2em}
.badge{display:inline-block;padding:4px 8px;border-radius:999px;background:color-mix(in oklab,var(--accent) 10%,#fff);color:var(--fg);font-size:12px}
.hr{height:1px;background:var(--line);margin:10px 0}
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--r);padding:12px;box-shadow:var(--sh)}
.row{display:flex;gap:8px;flex-wrap:wrap}
.small{font-size:12px;color:var(--muted)}kbd{background:#eef2ff;border:1px solid #c7d2fe;border-radius:6px;padding:1px 6px;font-family:"Courier New",monospace}
.skel{border-radius:8px;height:20px;background:linear-gradient(90deg,#f3f4f6,#e5e7eb,#f3f4f6);background-size:200% 100%;animation:sh 1.1s infinite}
@keyframes sh{0%{background-position:200% 0}100%{background-position:-200% 0}}
html[data-theme="western"] .nav button.active{background:#f1e4c9}html[data-theme="horror"] .badge{background:#1f1f1f;color:#fda4af}
</style>
</head><body>
<header><div class="container"><div class="row" style="justify-content:space-between;align-items:center">
<h1>10 大實用前端範例</h1>
<div class="row">
<label class="small">快速跳轉：</label>
<select id="quickJump">
<option value="s1">1 待辦</option><option value="s2">2 番茄</option>
<option value="s3">3 吃什麼</option><option value="s4">4 進度條</option>
<option value="s5">5 倒數+iCal</option><option value="s6">6 AA 分帳</option>
<option value="s7">7 Gallery</option><option value="s8">8 字數</option>
<option value="s9">9 便利貼</option><option value="s10">10 天氣卡</option>
</select>
<button class="accent" id="goJump">前往</button>
<select id="themeSel" title="主題"><option value="light">亮</option><option value="dark">暗</option><option value="cute">可愛</option><option value="western">西部</option><option value="horror">驚悚</option></select>
</div>
</div></div></header>
<div class="container"><div class="grid">
<aside class="nav"><h3>範例清單</h3><div id="navBtns"></div></aside>
<div class="view" id="view">
<!-- 1 To-Do -->
<section class="section active" data-title="1) 待辦（localStorage）" id="s1">
<h2><a href="01-todo.html">1) 極簡 To-Do <span class="badge">localStorage</span></a></h2>
<div class="card" id="todo1"><div class="row">
<input id="inp" placeholder="今天要完成什麼？" style="flex:1"/><button class="accent" id="add">新增</button>
</div><ul id="list" style="list-style:none;padding:0;margin:10px 0 0;display:grid;gap:8px"></ul>
<div class="small">可直接點文字編輯；<kbd>Enter</kbd> 新增。</div></div>
<script>(()=>{const r=document.querySelector('#todo1'),$=q=>r.querySelector(q),KEY='v2.todo.light',inp=$('#inp'),add=$('#add'),list=$('#list');let items=JSON.parse(localStorage.getItem(KEY)||'[]');function save(){localStorage.setItem(KEY,JSON.stringify(items))}function ren(){list.innerHTML=items.map((t,i)=>`<li data-i="${i}" style="display:flex;align-items:center;gap:8px;padding:8px;border:1px solid var(--line);border-radius:10px;background:var(--card)"><input type="checkbox" ${t.done?'checked':''}><span contenteditable style="flex:1;${t.done?'text-decoration:line-through;opacity:.6':''}">${t.text}</span><button class="del">刪</button></li>`).join('')}add.onclick=()=>{const v=inp.value.trim();if(!v)return;items.push({text:v,done:!1});inp.value='';save();ren()};inp.onkeydown=e=>{if(e.key==='Enter')add.click()};list.onclick=e=>{const li=e.target.closest('li');if(!li)return;const i=+li.dataset.i;if(e.target.type==='checkbox'){items[i].done=e.target.checked}else if(e.target.classList.contains('del')){items.splice(i,1)}save();ren()};list.oninput=e=>{const li=e.target.closest('li');if(!li||e.target.tagName!=='SPAN')return;items[+li.dataset.i].text=e.target.textContent.trim();save()};ren()})();</script>
</section>
<!-- 2 Pomodoro -->
<section class="section" data-title="2) 番茄鐘" id="s2">
<h2><a href="02-pomodoro.html">2) 番茄鐘 <span class="badge">計時</span></a></h2>
<div class="card" id="pomo"><div class="row" style="justify-content:center">
<label>工(分)<input id="work" min="1" style="width:70px" type="number" value="25"/></label>
<label>休(分)<input id="rest" min="1" style="width:70px" type="number" value="5"/></label>
</div><div id="t" style="font-size:52px;font-weight:900;text-align:center">25:00</div>
<div class="row" style="justify-content:center"><button class="accent" id="start">開始</button><button id="stop">停止</button><button id="reset">重設</button></div><div class="small" id="status" style="text-align:center">狀態：工作中</div></div>
<script>(()=>{const r=document.querySelector('#pomo'),$=q=>r.querySelector(q),t=$('#t'),s=$('#status'),w=$('#work'),b=$('#rest');let sec=25*60,mode='work',timer=null;const fmt=s=>`${String((s/60)|0).padStart(2,'0')}:${String(s%60).padStart(2,'0')}`,tone=()=>{try{const a=new (window.AudioContext||window.webkitAudioContext)(),o=a.createOscillator(),g=a.createGain();o.connect(g);g.connect(a.destination);o.type='sine';o.frequency.value=880;o.start();g.gain.setValueAtTime(.18,a.currentTime);g.gain.exponentialRampToValueAtTime(.0001,a.currentTime+.4);o.stop(a.currentTime+.4)}catch{}};function tick(){if(sec<=0){tone();if(mode==='work'){sec=+b.value*60;mode='break';s.textContent='狀態：休息中'}else{sec=+w.value*60;mode='work';s.textContent='狀態：工作中'}}t.textContent=fmt(sec--)}$('#start').onclick=()=>{if(timer)return;if(t.textContent==='25:00')sec=+w.value*60;timer=setInterval(tick,1e3)};$('#stop').onclick=()=>{clearInterval(timer);timer=null};$('#reset').onclick=()=>{clearInterval(timer);timer=null;sec=+w.value*60;mode='work';s.textContent='狀態：工作中';t.textContent=fmt(sec)}})();</script>
</section>
<!-- 3 吃什麼 -->
<section class="section" data-title="3) 吃什麼決定器" id="s3">
<h2><a href="03-lunch.html">3) 吃什麼 <span class="badge">隨機</span></a></h2>
<div class="card" id="lunch"><div class="row"><input id="inp" placeholder="拉麵、便當、咖哩…" style="flex:1"/><button class="accent" id="add">加入</button></div><div class="row" id="list" style="margin-top:6px;flex-wrap:wrap"></div><button class="accent" id="go" style="width:100%">抽！</button><div id="result" style="font-size:30px;font-weight:900;min-height:38px;text-align:center;margin-top:6px"></div></div>
<script>(()=>{const r=document.querySelector('#lunch'),$=q=>r.querySelector(q),KEY='v2.lunch',L=$('#list'),R=$('#result');let items=JSON.parse(localStorage.getItem(KEY)||'["便當","火鍋","咖哩","拉麵","水餃"]');const save=()=>localStorage.setItem(KEY,JSON.stringify(items)),ren=()=>L.innerHTML=items.map((t,i)=>`<span class="tag" data-i="${i}" style="padding:6px 10px;background:color-mix(in oklab,var(--accent) 10%,#fff);border:1px solid var(--line);border-radius:999px;margin:3px;cursor:pointer">${t} ✕</span>`).join('');ren();$('#add').onclick=()=>{const v=$('#inp').value.trim();if(!v)return;items.push(v);$('#inp').value='';save();ren()};L.onclick=e=>{const el=e.target.closest('.tag');if(!el)return;items.splice(+el.dataset.i,1);save();ren()};$('#go').onclick=()=>{if(!items.length)return;const pick=items[(Math.random()*items.length)|0];R.textContent=pick;R.animate([{transform:'scale(.9)'},{transform:'scale(1.05)'},{transform:'scale(1)'}],{duration:420,easing:'ease'})}})();</script>
</section>
<!-- 4 進度條 -->
<section class="section" data-title="4) 閱讀進度條" id="s4">
<h2><a href="04-progress.html">4) 閱讀進度條 <span class="badge">scroll %</span></a></h2>
<div class="card" id="prog"><div style="position:sticky;top:0;border:1px solid var(--line);border-radius:10px;overflow:hidden"><div style="height:8px;background:var(--line)"><div id="fill" style="height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2))"></div></div></div>
<div id="area" style="max-height:38vh;overflow:auto;border:1px dashed var(--line);border-radius:10px;margin-top:6px;padding:10px">
<h3>長文示例</h3><p>向下捲動觀察上方進度條變化。</p><p>良好閱讀 UX 可提高完成率。</p><p>（以下填充）</p><p>結構/表現/行為是前端三要素。</p><p>RWD 讓不同裝置皆可用。</p><p>A11y 提升可存取性。</p><p>效能優化減少重排。</p><p>模組化提升維護性。</p><p style="height:700px"></p></div></div>
<script>(()=>{const r=document.querySelector('#prog'),a=r.querySelector('#area'),f=r.querySelector('#fill');a.addEventListener('scroll',()=>{const m=a.scrollHeight-a.clientHeight;f.style.width=Math.min(100,Math.round(a.scrollTop/m*100))+'%'},{passive:1});f.style.width='0%'})();</script>
</section>
<!-- 5 倒數+iCal -->
<section class="section" data-title="5) 倒數 + iCal" id="s5">
<h2><a href="05-countdown-ical.html">5) 倒數 + iCal <span class="badge">Blob</span></a></h2>
<div class="card" id="ical">
<div class="row">
<input id="title" placeholder="事件名稱" style="flex:1"/>
<input id="time" type="datetime-local"/>
<button class="accent" id="start">開始倒數</button>
</div>
<div id="t" style="font-size:26px;font-weight:800;margin-top:6px">請設定時間</div>
<button id="dl" style="margin-top:6px">下載 iCal</button>
<div class="small">時間以 <b>Asia/Taipei</b> 寫入；預設結束時間 +25 分鐘。</div>
</div>
<script>(()=>{const r=document.querySelector('#ical'),$=q=>r.querySelector(q);let target=null,timer=null;
const T=$('#t');const pad=n=>String(n).padStart(2,'0');
const fmtICS=d=>d.getFullYear()+pad(d.getMonth()+1)+pad(d.getDate())+'T'+pad(d.getHours())+pad(d.getMinutes())+pad(d.getSeconds());
const tick=()=>{const d=target-new Date;if(d<=0){T.textContent='到時囉！';clearInterval(timer);timer=null;return}
  const s=((d/1e3)|0)%60,m=((d/6e4)|0)%60,h=((d/36e5)|0)%24,day=(d/864e5)|0;T.textContent=`${day} 天 ${pad(h)}:${pad(m)}:${pad(s)}`};
$('#start').onclick=()=>{const v=$('#time').value;if(!v)return alert('請選時間');target=new Date(v);clearInterval(timer);timer=setInterval(tick,1e3);tick()};
$('#dl').onclick=()=>{const title=$('#title').value||'我的事件',v=$('#time').value;if(!v)return alert('請先選時間');
  const start=new Date(v);const end=new Date(start.getTime()+25*60*1000);
  const dtstart=fmtICS(start), dtend=fmtICS(end), stamp=fmtICS(new Date());
  const ics=
'BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Demo//iCal//TW\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\n'+
'BEGIN:VTIMEZONE\nTZID:Asia/Taipei\nX-LIC-LOCATION:Asia/Taipei\nBEGIN:STANDARD\nTZOFFSETFROM:+0800\nTZOFFSETTO:+0800\nTZNAME:CST\nDTSTART:19700101T000000\nEND:STANDARD\nEND:VTIMEZONE\n'+
'BEGIN:VEVENT\nUID:'+Date.now()+'@demo\nDTSTAMP:'+stamp+'\nDTSTART;TZID=Asia/Taipei:'+dtstart+'\nDTEND;TZID=Asia/Taipei:'+dtend+'\nSUMMARY:'+title+'\nEND:VEVENT\nEND:VCALENDAR';
  const a=document.createElement('a');a.href=URL.createObjectURL(new Blob([ics],{type:'text/calendar'}));a.download='event.ics';a.click();URL.revokeObjectURL(a.href)};})();</script>
</section>
<!-- 6 AA 分帳 -->
<section class="section" data-title="6) AA 分帳" id="s6">
<h2><a href="06-aa.html">6) AA 分帳 <span class="badge">reduce</span></a></h2>
<div class="card" id="aa"><div class="row"><input id="name" placeholder="品項" style="flex:2"/><input id="price" placeholder="金額" style="flex:1" type="number"/><button class="accent" id="add">加入</button></div><div id="list" style="display:grid;gap:6px;margin:8px 0"></div><div>總金額：<b id="sum">0</b> 元</div><div class="row" style="align-items:center;margin-top:4px"><span>人數：</span><input id="p" style="width:80px" type="number" value="2"/><span>→ 每人 <b id="each">0</b> 元</span></div></div>
<script>(()=>{const r=document.querySelector('#aa'),$=q=>r.querySelector(q);let items=[];const list=$('#list'),calc=()=>{const sum=items.reduce((a,b)=>a+(+b.price||0),0);$('#sum').textContent=sum;$('#each').textContent=Math.round(sum/(+$('#p').value||1))},ren=()=>{list.innerHTML=items.map((it,i)=>`<div style="display:grid;grid-template-columns:1fr 110px 60px;gap:6px"><input value="${it.name}" data-i="${i}" class="n"><input type="number" value="${it.price}" data-i="${i}" class="v"><button data-i="${i}" class="del">刪</button></div>`).join('');calc()};$('#add').onclick=()=>{const n=$('#name').value.trim(),v=+$('#price').value||0;if(!n)return;items.push({name:n,price:v});$('#name').value='';$('#price').value='';ren()};list.oninput=e=>{const i=e.target.dataset.i;if(e.target.classList.contains('n'))items[i].name=e.target.value;else if(e.target.classList.contains('v'))items[i].price=+e.target.value||0;calc()};list.onclick=e=>{if(e.target.classList.contains('del')){items.splice(+e.target.dataset.i,1);ren()}};$('#p').oninput=calc})();</script>
</section>
<!-- 7 Gallery -->
<section class="section" data-title="7) Gallery（Filter + 燈箱）" id="s7">
<h2><a href="07-gallery.html">7) 作品集 <span class="badge">Grid + 篩選</span></a></h2>
<div class="card" id="gal"><div class="row" id="ctl" style="flex-wrap:wrap"></div><div id="grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:8px;margin-top:6px"></div></div>
<div id="box" style="position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center"><img style="max-width:92vw;max-height:84vh;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.5)"/></div>
<script>(()=>{const data=[{t:'網頁',img:'https://picsum.photos/seed/a/800'},{t:'UI',img:'https://picsum.photos/seed/b/800'},{t:'插畫',img:'https://picsum.photos/seed/c/800'},{t:'網頁',img:'https://picsum.photos/seed/d/800'},{t:'UI',img:'https://picsum.photos/seed/e/800'},{t:'插畫',img:'https://picsum.photos/seed/f/800'}].map((x,i)=>({...x,id:i}));const tags=['全部',...new Set(data.map(d=>d.t))];const root=document.querySelector('#gal'),ctl=root.querySelector('#ctl'),grid=root.querySelector('#grid'),box=document.querySelector('#box'),img=box.querySelector('img');let cur='全部';ctl.innerHTML=tags.map(t=>`<button data-t="${t}" class="${t===cur?'accent':''}" style="border:0;padding:6px 12px;border-radius:999px;background:${t===cur?'color-mix(in oklab,var(--accent) 20%,#fff)':'#f3f4f6'}">${t}</button>`).join('');function ren(){const list=cur==='全部'?data:data.filter(d=>d.t===cur);grid.innerHTML=list.map(d=>`<div class="card" data-id="${d.id}" style="aspect-ratio:1/1;display:grid;place-items:center;cursor:pointer">${d.t}</div>`).join('');}
ren();ctl.onclick=e=>{const b=e.target.closest('button');if(!b)return;cur=b.dataset.t;[...ctl.children].forEach(x=>x.classList.remove('accent'));b.classList.add('accent');ren()};grid.onclick=e=>{const c=e.target.closest('.card');if(!c)return;const d=data.find(x=>x.id==c.dataset.id);img.src=d.img;box.style.display='flex'};document.addEventListener('keydown',e=>{if(e.key==='Escape')box.style.display='none'});box.onclick=e=>{if(e.target===box)box.style.display='none'}})();</script>
</section>
<!-- 8 字數 -->
<section class="section" data-title="8) 字數/閱讀時間" id="s8">
<h2><a href="08-wc.html">8) 字數/閱讀時間 <span class="badge">throttle</span></a></h2>
<div class="card" id="wc"><textarea id="ta" placeholder="貼上或輸入文字..." style="width:100%;min-height:170px"></textarea><div class="row" style="margin-top:6px;flex-wrap:wrap"><div class="badge">字數：<b id="w">0</b></div><div class="badge">句子：<b id="s">0</b></div><div class="badge">估計閱讀：<b id="m">0</b> 分</div></div></div>
<script>(()=>{const r=document.querySelector('#wc'),$=q=>r.querySelector(q),ta=$('#ta'),w=$('#w'),s=$('#s'),m=$('#m');function calc(){const text=ta.value.trim(),words=(text.match(/\S+/g)||[]).length,sent=(text.match(/[。！？.!?]+/g)||[]).length,min=Math.ceil(words/300);w.textContent=words;s.textContent=sent;m.textContent=min}let t=null;ta.addEventListener('input',()=>{clearTimeout(t);t=setTimeout(calc,120)});calc()})();</script>
</section>
<!-- 9 便利貼 -->
<section class="section" data-title="9) 便利貼（拖曳+存檔）" id="s9">
<h2><a href="09-sticky.html">9) 便利貼 <span class="badge">拖曳+localStorage</span></a></h2>
<div class="card" id="boardWrap" style="position:relative;height:56vh;overflow:hidden"><div class="row" style="position:absolute;top:8px;left:8px;z-index:5"><button class="accent" id="new">新增便利貼</button><button id="clear">清空</button></div><div class="board" id="board" style="position:absolute;inset:0;background:#fffbe6"></div></div>
<script>(()=>{const w=document.querySelector('#boardWrap'),b=w.querySelector('#board'),KEY='v2.sticky',load=()=>JSON.parse(localStorage.getItem(KEY)||'[]'),save=t=>localStorage.setItem(KEY,JSON.stringify(t));let notes=load();const ren=()=>b.innerHTML=notes.map(n=>`<div class="note" data-id="${n.id}" style="position:absolute;left:${n.x}px;top:${n.y}px;width:190px;min-height:110px;background:#fff59d;border:1px solid var(--warn);border-radius:10px;padding:8px;box-shadow:2px 6px 18px #0002;cursor:grab"><textarea style="width:100%;height:96px;border:0;background:transparent;resize:vertical">${n.t}</textarea></div>`).join('');const add=(x=60,y=70,t='')=>{notes.push({id:Date.now()+Math.random(),x,y,t});ren();save(notes)};ren();w.querySelector('#new').onclick=()=>add();w.querySelector('#clear').onclick=()=>{if(confirm('確定清空？')){notes=[];ren();save(notes)}};let drag=null;b.onmousedown=e=>{const el=e.target.closest('.note');if(!el)return;const id=+el.dataset.id,n=notes.find(n=>n.id===id);drag={id,dx:e.clientX-n.x,dy:e.clientY-n.y}};onmousemove=e=>{if(!drag)return;const n=notes.find(n=>n.id===drag.id);n.x=e.clientX-drag.dx;n.y=e.clientY-drag.dy;ren()};onmouseup=()=>{if(drag){save(notes);drag=null}};b.oninput=e=>{const el=e.target.closest('.note');if(!el)return;const n=notes.find(n=>n.id==el.dataset.id);n.t=e.target.value;save(notes)}})();</script>
</section>
<!-- 10 天氣卡 -->
<section class="section" data-title="10) 天氣卡（免費 API）" id="s10">
<h2><a href="10-weather.html">10) 天氣卡 <span class="badge">fetch</span></a></h2>
<div class="card" id="wx"><div class="row"><input id="q" placeholder="輸入城市：Taipei" style="flex:1"/><button class="accent" id="go">查詢</button></div><div id="out" style="margin-top:8px"><div class="skel"></div></div><div class="small">示例來源：wttr.in JSON</div></div>
<script>(()=>{const r=document.querySelector('#wx'),$=q=>r.querySelector(q);async function get(c){const res=await fetch(`https://wttr.in/${encodeURIComponent(c)}?format=j1`);if(!res.ok)throw new Error('API');return res.json()}$('#go').onclick=async()=>{const c=$('#q').value.trim()||'Taipei';$('#out').innerHTML='<div class="skel"></div>';try{const d=await get(c),cur=d.current_condition?.[0],area=d.nearest_area?.[0]?.areaName?.[0]?.value||c;$('#out').innerHTML=`<div style="font-size:26px;font-weight:800">${area}</div><div style="font-size:38px;font-weight:900">${cur.temp_C}°C</div><div>${cur.weatherDesc?.[0]?.value||''}</div>`}catch{$('#out').textContent='查詢失敗'}}})();</script>
</section>
</div>
</div></div>
<!-- 目錄 + 主題控制 -->
<script>(()=>{const secs=[...document.querySelectorAll('.section')],nav=document.getElementById('navBtns');nav.innerHTML=secs.map(s=>`<button data-id="${s.id}">${s.dataset.title}</button>`).join('');function act(id){secs.forEach(s=>s.classList.toggle('active',s.id===id));[...nav.children].forEach(b=>b.classList.toggle('active',b.dataset.id===id));document.getElementById('quickJump').value=id;document.querySelector('.view').scrollTo({top:0,behavior:'smooth'})}
nav.addEventListener('click',e=>{const b=e.target.closest('button');if(!b)return;act(b.dataset.id)});document.getElementById('goJump').onclick=()=>act(document.getElementById('quickJump').value);
const sel=document.getElementById('themeSel'),k='demo.theme',apply=t=>{document.documentElement.setAttribute('data-theme',t);localStorage.setItem(k,t)};sel.value=localStorage.getItem(k)||document.documentElement.getAttribute('data-theme');apply(sel.value);sel.onchange=()=>apply(sel.value);})();</script>
</body></html>
